машина на парковке    водитель отавляет машину на парковке
машина уезжает.       водитель увозит машину с парковки
машина приехала на парковку водитель привозит машину на парковку

оповещение отсылается охране система отправляет оповещение охране
оповещение отсылается владельцу система отправляет оповещение владельцу
оповещение о возможной постановке  на охрану отсылается владельцу система отправляет оповещение о возможной постановке на охрану владельцу
владелец оповещается сообщением об окончании охраны система отправляет сообщение об окончании охраны владельчу

номер машины распознан система распознает номера у машин
по номеру машины найден владелец система запрашивает по номеру машины данные о ее владельце в хранилище
номер машины регистрируется как охраняемый система регистрируе номер машины как охраняемый в хранилище номеров для охраны
номер машины регистрируется как не охраняемый система регистрирует номер как неохраняемый в хранилище номеров для охраны


владелец продлевает клиент подает заявку на выделение дополнительного времени охраны в систему
владелец запустил команду снятия с охораны клиент отправил команду системе система начала выполнять команду
приходит команда от владельца о постановке на охрану клиент отправил команду о постановке на охрану машины в систему

пользователь имеет право на выполнение комманды система проверяет право на выполнение команды клиентом в контроллере команд

смс  приходит в пул системы провайдер пересылает смс в пул системы

сообщение является командой контроллер команд проверяет является ли командой сообщение в интерпретаторе команд

команда выполняется интерпритатор начинает выполнять команду в системе



списание денег со счета произошло | клиентская программа получает данные о снятии средств на оплату  счета за охрану со счета клиента из сервиса оплаты
списание денег со счета происходит| система инициирует процесс оплаты счета клиентом в сервисе оплаты
на счете не хватает средств |клиентская программа получает сообщение от банка о нехватке средств на счете в модуле оплаты
процесс оплаты запускается  система начинает процесс оплаты клиентом в сервисе оплаты
оплата счета пройдена успешно сервис оплаты передает сообщение о успешности оплаты в систему проверяет соблюдение условий оплаты клиентом
сумма заносится на счет система проверяет поступление средств на свой счет модуль банка передает сообщение об успешности оплаты в сервис оплаты


проверка обнаруживает что время охраны истекает система генерирует событие о скором истечении времени охраны в модуле мониторинга времени
проверка обнаруживает, что время охраны истекло система генерирует событие об окончании времени в сервисе мониторинга времени

время охраны продлевается система регистрирует новое время охраны машины в системе мониторинга времени











регистратор парковки передал сообщение о наличии машины на парковке парковке в систему
система запрашивает данные о машине в хранилище охраняемых машин 
регистратор парковки выдает событие о движении на парковке машины 
регистратор парковки выдает событие о прекращении распознавания на парковке машины 
сервис оповещений отсылает сообщение о тревоге охране 
сервис оповещений отсылает сообщение о тревоге владельцу 
система зарегистрировала появление на парковке машины 
система зарегистрировала ранее отсутствовавший номер машины в хранилище

